<!DOCTYPE html>
<html>

<head>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.rawgit.com/angular-ui/bower-ui-grid/master/ui-grid.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">

</head>

<body ng-app="myApp" ng-controller="homeCtrl" class="container-fluid">

<!-- Button to update all data -->
<!-- <hr><hr>
<button class="btn btn-primary" ng-click="updateMongoData()">Click me!</button>
<hr><hr> -->

<h1>{{year}} Bible Reading Plan<span class="text-muted" ng-show="loading">&nbsp;<i class="fa fa-spinner fa-spin"></i></span></h1>
<div ng-show="pin && !error">
    Select Year: 
    <select class="form-control" ng-model="year" ng-change="updateYear()">
        <option ng-repeat="year in years track by year">{{year}}</option>
    </select>
    <h5 class="welcome">Welcome, {{name}}!</h5>
</div>
<h1 ng-if="raceCondition" class="text-danger" ng-bind="'Warning! Someone else posted changes. Please copy your changes, refresh the page and then post your work.'"></h1>

<div class="col-sm-12" ng-show="pin && !error">
    <div ui-grid="gridOptions" ui-grid-edit class="grid"></div>
    <br>
    <div>
        <div class="form-group">
            <div class="col-sm-7">
                <label for="text">{{today.content}} Comments</label>
                <textarea class="form-control" ng-model="today.comments" id="text" rows="13"></textarea><br>
                <button class="btn btn-primary" ng-disabled="loading || raceCondition" ng-click="submitComment()">Submit</button>
            </div>
            <div class="col-sm-5">
                <label for="prayer">Prayer</label>
                <textarea class="form-control" ng-model="prayer" id="prayer" rows="13"></textarea><br>
                <button class="btn btn-primary" ng-disabled="loading || raceCondition" ng-click="submitPrayer()">Submit</button>
            </div>
        </div>
    </div>
</div>

<div class="col-sm-12" ng-show="error">
    <p>{{error}}</p>
</div>

<div class="col-sm-12" ng-show="!pin">
    <div class="form-group">
        <label for="pin">Enter Pin (case sensitive):</label>
        <input type="text" class="form-control" id="pin" ng-model="pinInput">
        <br>
        <label for="name">Enter Name:</label>
        <input type="text" class="form-control" id="name" ng-model="nameInput">
        <br>
        <button class="btn btn-primary" ng-disabled="!nameInput || !pinInput" ng-click="submitPin()">Submit</button>
    </div>
</div>

</body>

<script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://rawgit.com/msrikanth508/uiGridInlineEditPOC/master/Js/vendor/angular.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.5/angular-route.min.js"></script>
<script src="https://cdn.rawgit.com/angular-ui/bower-ui-grid/master/ui-grid.min.js"></script>
<script data-require="async.js@*" data-semver="2.1.1" src="https://cdnjs.cloudflare.com/ajax/libs/async/2.1.1/async.min.js"></script>
<script src="script.js"></script>
<script src="services/service.js"></script>


</html>
